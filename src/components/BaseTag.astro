---
import localStrings from '@locals/strings'
import { Language, Tag } from '@enums'

export interface Props {
  lang: Language
  tag: Tag
}

const { lang, tag } = Astro.props as Props
---

<a
  class="BaseTag"
  href={`/${lang}/blog?tag=${tag}`}
  style={tag.logoUrl && `--logo-url: url(${tag.logoUrl})`}
  data-logo={tag.logoUrl!!}
>
  {localStrings[lang].tag[tag.toString()]}
</a>

<style lang="scss">
  .BaseTag {
    --padding-y: 0.2em;

    display: inline-block;
    color: var(--theme-background);
    background-color: var(--theme-secondary);
    border-radius: 100px; // Large number for pill
    text-decoration: none;
    padding: var(--padding-y) 0.4em;
    overflow: hidden;

    &:hover,
    &:focus {
      color: var(--theme-primary-hover);
    }

    &:active {
      color: var(--theme-primary-active);
    }
  }

  .BaseTag + .BaseTag {
    margin-left: 0.5em;
  }

  .BaseTag[data-logo]::before {
    content: '';
    display: inline-block;

    background-color: var(--theme-primary);
    background-image: var(--logo-url);
    background-position: center var(--padding-y);
    background-repeat: no-repeat;
    border-radius: inherit;
    margin: calc(var(--padding-y) * -1) 0 calc(var(--padding-y) * -1) calc(var(--padding-y) * -2);

    height: 1.6em;
    width: 1.6em;

    vertical-align: text-top;
  }
</style>
